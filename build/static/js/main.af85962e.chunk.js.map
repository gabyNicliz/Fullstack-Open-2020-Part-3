{"version":3,"sources":["components/Person.js","components/FilterForm.js","components/PersonForm.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","person","deleteButton","name","number","onClick","FilterForm","searchFilter","handleSearchFilterChange","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","baseURL","axios","get","then","response","data","newObject","post","id","delete","console","log","put","Notification","message","isError","className","App","useState","persons","setPersons","setNewName","setNewNumber","setSearchFilter","errorMessage","setErrorMessage","setIsError","useEffect","personService","initialPersons","personsToSearch","filter","toLowerCase","includes","event","target","preventDefault","personExists","personObject","length","i","window","confirm","personToUpdate","find","p","updatedPerson","updated","map","setTimeout","catch","err","returnedPerson","concat","key","personToDelete","removePerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.af85962e.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({ person, deleteButton }) => {\r\n    return (\r\n      <>\r\n        <p>\r\n          {person.name} {person.number} <button onClick={deleteButton}>delete</button>\r\n        </p>\r\n      </>\r\n    )\r\n  }\r\n\r\nexport default Person","import React from 'react'\r\n\r\nconst FilterForm = ({ \r\n    searchFilter,\r\n    handleSearchFilterChange\r\n  }) => {\r\n  \r\n    return (\r\n      <div>\r\n        filter shown with: <input \r\n          value={searchFilter}\r\n          onChange={handleSearchFilterChange}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default FilterForm","import React from 'react'\r\n\r\nconst PersonForm = ({ \r\n    addPerson,\r\n    newName,\r\n    handleNameChange,\r\n    newNumber,\r\n    handleNumberChange\r\n  }) => {\r\n  \r\n    return (\r\n      <form onSubmit={addPerson}>\r\n        <div>\r\n          name: <input \r\n            value={newName}\r\n            onChange={handleNameChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          number: <input \r\n            value={newNumber}\r\n            onChange={handleNumberChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">\r\n            add\r\n          </button>\r\n        </div>\r\n      </form>\r\n    )\r\n  }\r\n\r\nexport default PersonForm","import axios from 'axios'\r\nconst baseURL = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseURL)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseURL, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseURL}/${id}`)\r\n    return request.then(response => console.log(response.data))\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseURL}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, remove, update }","import React from 'react'\r\n\r\nconst Notification = ({ message, isError }) => {\r\n  if (message === null) {\r\n    return null\r\n  } else if (isError) {\r\n    return (\r\n      <div className=\"error\" >\r\n        {message}\r\n      </div>\r\n    )\r\n  } else {\r\n    return (\r\n      <div className=\"notError\" >\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport Person from './components/Person'\r\nimport FilterForm from  './components/FilterForm'\r\nimport PersonForm from './components/PersonForm'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ searchFilter, setSearchFilter ] = useState('')\r\n  const [ errorMessage, setErrorMessage ] = useState(null)\r\n  const [ isError, setIsError ] = useState(false)\r\n\r\n  useEffect(() => {\r\n    personService\r\n    .getAll()\r\n    .then(initialPersons => { \r\n      setPersons(initialPersons) \r\n    })\r\n  }, [])\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    let personExists = false\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n      id:  persons.length + 1\r\n    }\r\n\r\n    for (let i = 0; i < persons.length; i++) {\r\n      if (persons[i].name === personObject.name) {\r\n        personExists = true\r\n        break\r\n      }\r\n      personExists = false\r\n    }\r\n\r\n    if (!personExists) {\r\n      personService\r\n        .create(personObject)\r\n          .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson))\r\n          \r\n          setErrorMessage(\r\n            `Added ${returnedPerson.name}`\r\n          )\r\n          \r\n          setIsError(false)\r\n\r\n          setTimeout(() => {\r\n            setErrorMessage(null)\r\n          }, 5000)\r\n\r\n          setNewName('')\r\n          setNewNumber('')\r\n        })\r\n    } else {\r\n      if (window\r\n        .confirm(`${personObject.name} is already added to phonebook, replace the old number with a new one?`)) {\r\n          const personToUpdate = persons.find(p => p.name === newName)\r\n          const updatedPerson = { ...personToUpdate, number: newNumber}\r\n          personService\r\n            .update(updatedPerson.id, updatedPerson)\r\n            .then(updated => {\r\n              setPersons(persons.map(person =>\r\n                person.name !== newName \r\n                ? person \r\n                : updated))\r\n                \r\n                setErrorMessage(\r\n                  `${personToUpdate.name}'s phone number was updated`\r\n                )\r\n              \r\n                setIsError(false)\r\n\r\n                setTimeout(() => {\r\n                  setErrorMessage(null)\r\n                }, 5000)\r\n              }\r\n            ).catch(err => {\r\n                setErrorMessage(\r\n                  `${personToUpdate.name} was already deleted from the server`\r\n                )\r\n                \r\n                setIsError(true)\r\n\r\n                setTimeout(() => {\r\n                  setErrorMessage(null)\r\n                }, 5000)\r\n              }\r\n            )\r\n\r\n        setNewName('')\r\n        setNewNumber('')\r\n      }\r\n    }\r\n  }\r\n\r\n  const removePerson = id => {\r\n    const personToDelete = persons.find(person => person.id === id)\r\n    if (window.confirm(`Delete ${personToDelete.name}?`)) {\r\n      personService.remove(id).then(() => { \r\n        setPersons(persons.filter(p => p.id  !== personToDelete.id))\r\n        \r\n        setErrorMessage(\r\n          `${personToDelete.name} was deleted`\r\n        )\r\n        \r\n        setIsError(false)\r\n\r\n        setTimeout(() => {\r\n          setErrorMessage(null)\r\n        }, 5000)\r\n      }).catch(err => {\r\n        setErrorMessage(\r\n          `${personToDelete.name} was already deleted from the server`\r\n        )\r\n        \r\n        setIsError(true)\r\n\r\n        setTimeout(() => {\r\n          setErrorMessage(null)\r\n        }, 5000)\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleSearchFilterChange = (event) => {\r\n    console.log(event.target.value)\r\n    setSearchFilter(event.target.value)\r\n  }\r\n\r\n  const personsToSearch = searchFilter \r\n  ? persons.filter(person => person.name.toLowerCase().includes(searchFilter.toLowerCase()))\r\n  : persons\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification \r\n        message={errorMessage} \r\n        isError={isError}\r\n      />\r\n      <FilterForm\r\n        searchFilter={searchFilter}\r\n        handleSearchFilterChange={handleSearchFilterChange}\r\n      />\r\n      <PersonForm\r\n        addPerson={addPerson}\r\n        newName={newName}\r\n        handleNameChange={handleNameChange}\r\n        newNumber={newNumber}\r\n        handleNumberChange={handleNumberChange}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <div>\r\n        {personsToSearch.map((person, i) => \r\n          <Person \r\n            key={i}\r\n            person={person}\r\n            deleteButton={() => removePerson(person.id)}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}